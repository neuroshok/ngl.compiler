# ngl:parser `experimental`

## Algorithm
Parser shapes are stored in a 64bits bitset called a **state**. \
Each shape has an index in the **state**

```m
index 0 | id 0000000000000001 | vector_id 0000000000000001 | data 0000000000100000 | shape_space
index 1 | id 0000000000000010 | vector_id 0000000000000010 | data 0110000101111010 | range_az
index 2 | id 0000000000000100 | vector_id 0000000000000100 | data 0100000101011010 | range_AZ
...
```

There is 3 types of states
- shape_state (bits are true when the shape rule is true)
- vector_state (the shape_state with only the shapes who are true over many iterations)
- parser_state (shape rules who need to be sent to the parser)


## Example
**parser_state** 00000000000000000001110000000000


```m
n | 00000000000000000001011000000010 | 00000000000000000000010000000000 | 00000000000000000001010000000000
g | 00000000000000000001011000000010 | 00000000000000000000010000000000 | 00000000000000000001010000000000
l | 00000000000000000001011000000010 | 00000000000000000000010000000000 | 00000000000000000001010000000000
N | 00000000000000000001101000000100 | 00000000000000000000100000000000 | 00000000000000000001100000000000
G | 00000000000000000001101000000100 | 00000000000000000000100000000000 | 00000000000000000001100000000000
L | 00000000000000000001101000000100 | 00000000000000000000100000000000 | 00000000000000000001100000000000

n | 00000000000000000001011000000010 | 00000000000000000000010000000000 | 00000000000000000001010000000000
g | 00000000000000000001011000000010 | 00000000000000000000010000000000 | 00000000000000000001010000000000
l | 00000000000000000001011000000010 | 00000000000000000000010000000000 | 00000000000000000001010000000000
N | 00000000000000000001101000000100 | 00000000000000000000100000000000 | 00000000000000000001100000000000
G | 00000000000000000001101000000100 | 00000000000000000000100000000000 | 00000000000000000001100000000000
L | 00000000000000000001101000000100 | 00000000000000000000100000000000 | 00000000000000000001100000000000
```

**output expected**
```
description (parser_state_id: 100)
    scalar_description (parser_state_id: 001)
        ID (ngl)
    vector_description (parser_state_id: 010)
        ID (NGL)
description
    scalar_description
        ID (ngl)
    vector_description
        ID (NGL)
```

00000000000000000000000000000000
00000000000000000001010000000000
00000000000000000001100000000000
00000000000000000001010000000000

if (shape_state > previous_state)
    auto expr = make(101)
     
    


        